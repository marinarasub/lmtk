\hypertarget{renderer_8h_source}{}\doxysubsection{renderer.\+h}
\label{renderer_8h_source}\index{src/app/imagetools/renderer.h@{src/app/imagetools/renderer.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/***************************************************************************/}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#ifndef \_\_RENDERER\_H\_}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#define \_\_RENDERER\_H\_}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <atomic>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}../../utils/threadpool.h"{}}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include  "{}../../libLMTKimage/image.h"{}}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include  "{}../../libLMTKimage/filters.h"{}}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include  "{}../../libLMTKimage/pluginchain.h"{}}}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacerenderer}{renderer}} \{}
\DoxyCodeLine{22 }
\DoxyCodeLine{23    \textcolor{keyword}{using namespace }image;}
\DoxyCodeLine{24 }
\DoxyCodeLine{29    \textcolor{keyword}{class }\mbox{\hyperlink{classrenderer_1_1_image_renderer}{ImageRenderer}} }
\DoxyCodeLine{30    \{}
\DoxyCodeLine{31 }
\DoxyCodeLine{32        \textcolor{keyword}{typedef} void(*render\_callback\_t)(\textcolor{keywordtype}{double} current\_effect\_progress,}
\DoxyCodeLine{33            \textcolor{keywordtype}{size\_t} effect\_number,}
\DoxyCodeLine{34            \textcolor{keywordtype}{size\_t} total\_effects,}
\DoxyCodeLine{35            \textcolor{keywordtype}{bool} failed);}
\DoxyCodeLine{36 }
\DoxyCodeLine{37        \textcolor{keyword}{struct }progress\_tracker}
\DoxyCodeLine{38        \{}
\DoxyCodeLine{39            std::atomic<size\_t> current\_rows\_done;}
\DoxyCodeLine{40            std::atomic<size\_t> current\_effect;}
\DoxyCodeLine{41            std::atomic<size\_t> total\_effects;}
\DoxyCodeLine{42        \};}
\DoxyCodeLine{43 }
\DoxyCodeLine{44    \textcolor{keyword}{public}:}
\DoxyCodeLine{45 }
\DoxyCodeLine{46        \mbox{\hyperlink{classrenderer_1_1_image_renderer}{ImageRenderer}}(\textcolor{keywordtype}{size\_t} threads, \mbox{\hyperlink{classimage_1_1_image}{Image}}* in);}
\DoxyCodeLine{47 }
\DoxyCodeLine{48        \mbox{\hyperlink{classrenderer_1_1_image_renderer}{\string~ImageRenderer}}();}
\DoxyCodeLine{49 }
\DoxyCodeLine{50        \textcolor{keywordtype}{void} render(\mbox{\hyperlink{classimage_1_1_plugin_chain}{PluginChain}}\& fx, \mbox{\hyperlink{classimage_1_1_image}{Image}}* out);}
\DoxyCodeLine{51 }
\DoxyCodeLine{52        \textcolor{keywordtype}{void} setProgressCallback(render\_callback\_t callback);}
\DoxyCodeLine{53 }
\DoxyCodeLine{54    \textcolor{keyword}{private}:}
\DoxyCodeLine{55 }
\DoxyCodeLine{56        \textcolor{keyword}{static} \textcolor{keywordtype}{void} renderRow(\mbox{\hyperlink{classimage_1_1_image_shader}{ImageShader}}* fx, }
\DoxyCodeLine{57            \mbox{\hyperlink{classimage_1_1_image}{Image}}* in,}
\DoxyCodeLine{58            \mbox{\hyperlink{classimage_1_1_image}{Image}}* out,}
\DoxyCodeLine{59            \textcolor{keywordtype}{size\_t} row, }
\DoxyCodeLine{60            progress\_tracker* tracker, }
\DoxyCodeLine{61            render\_callback\_t callback);}
\DoxyCodeLine{62 }
\DoxyCodeLine{63 }
\DoxyCodeLine{64        \textcolor{keywordtype}{size\_t} num\_threads;}
\DoxyCodeLine{65        \mbox{\hyperlink{classimage_1_1_image}{Image}}* in; \textcolor{comment}{// input}}
\DoxyCodeLine{66 }
\DoxyCodeLine{67        render\_callback\_t progress\_callback;}
\DoxyCodeLine{68  }
\DoxyCodeLine{69    \};}
\DoxyCodeLine{70 }
\DoxyCodeLine{71 \}}
\DoxyCodeLine{72 }
\DoxyCodeLine{73 }
\DoxyCodeLine{74 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// \_\_RENDERER\_H\_}}

\end{DoxyCode}
